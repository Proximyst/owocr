{"repository_name":"github.com/whats-this/owocr","body":"# owocr\n\n[![Build Status](https://travis-ci.org/whats-this/owocr.svg?branch=master)](https://travis-ci.org/whats-this/owocr)\n\nA wrapper in [Crystal](https://crystal-lang.org) for the [OwO What's This?](https://owo.whats-th.is) file sharing service.\n\n## Instructions (Developers)\n\n1. Add this as a dependency to your `shards.yml`:\n\n```yaml\ndependencies:\n  owocr:\n    github: whats-this/owocr\n    branch: master\n```\n\n1. Run `crystal deps` or `shards update`\n1. Check the usage below\n\n## Usage\n\nFirst a client is needed:\n\n```crystal\nrequire \"owocr\"\n\nclient = OwO::WhatsThis.new \"token\", \"optional user-agent for the requests\"\n```\n\nYou will then need to utilise one of the methods as listed:\n\n  1. `OwO::WhatsThis#shorten(url : String|URI) : String` - Returns the CDN endpoint.\n  1. `OwO::WhatsThis#upload_file(data : File, contenttype : String? = nil) : UploadedFile` - Returns the [API data](src/owocr/uploadedfile).\n  1. `OwO::WhatsThis#upload_data(data : Bytes, file_name : String, content_type : String) : UploadedFile` - Returns the API data.\n\nFor more in-depth explanation of these, you can go to the GitHub Wiki pages.","program":{"html_id":"github.com/whats-this/owocr/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/whats-this/owocr","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/whats-this/owocr/OwO","path":"OwO.html","kind":"module","full_name":"OwO","name":"OwO","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"owocr/version.cr","line_number":1,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/version.cr"},{"filename":"owocr/contenttype.cr","line_number":1,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/contenttype.cr"},{"filename":"owocr/uploadedfile.cr","line_number":3,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploadedfile.cr"},{"filename":"owocr/uploaddata.cr","line_number":1,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploaddata.cr"},{"filename":"owocr/client.cr","line_number":10,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr"},{"filename":"owocr/errors.cr","line_number":1,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/errors.cr"},{"filename":"owocr.cr","line_number":5,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr.cr"}],"repository_name":"github.com/whats-this/owocr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"API_URI","value":"\"https://api.awau.moe\"","doc":"`API_URI` is a constant to the default OwO v1 API endpoint: https://api.awau.moe","summary":"<p><code><a href=\"OwO.html#API_URI\">API_URI</a></code> is a constant to the default OwO v1 API endpoint: https://api.awau.moe</p>"},{"name":"USER_AGENT","value":"\"WhatsThisClient (https://github.com/whats-this/owocr, #{VERSION})\"","doc":"`USER_AGENT` is the default constant User-Agent header.\nThe version is specified by `VERSION`, which changes as the wrapper updates.","summary":"<p><code><a href=\"OwO.html#USER_AGENT\">USER_AGENT</a></code> is the default constant User-Agent header.</p>"},{"name":"VERSION","value":"\"0.2.0\"","doc":"The current version of the library.","summary":"<p>The current version of the library.</p>"}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"The entire `OwO` What's This wrapper for the API.\nIn order to use it, you'll need to refer to `OwO::WhatsThis`.","summary":"<p>The entire <code><a href=\"OwO.html\">OwO</a></code> What's This wrapper for the API.</p>","class_methods":[{"id":"content_type(file:File)-class-method","html_id":"content_type(file:File)-class-method","name":"content_type","doc":"The function guesses what Content-Type a file may have from its extension.\nIf the extension is unknown or non-existant, it will return \"application/octet-stream\".","summary":"<p>The function guesses what Content-Type a file may have from its extension.</p>","abstract":false,"args":[{"name":"file","doc":null,"default_value":"","external_name":"file","restriction":"File"}],"args_string":"(file : File)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/contenttype.cr#L4","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/contenttype.cr#L4","def":{"name":"content_type","args":[{"name":"file","doc":null,"default_value":"","external_name":"file","restriction":"File"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case File.extname(file.path)\nwhen \".txt\"\n  \"text/plain\"\nwhen \".htm\", \".html\", \".xhtm\", \".xhtml\"\n  \"text/html\"\nwhen \".css\"\n  \"text/css\"\nwhen \".js\"\n  \"application/javascript\"\nwhen \".svg\"\n  \"image/svg+xml\"\nwhen \".jpg\", \".jpeg\"\n  \"image/jpeg\"\nwhen \".png\"\n  \"image/png\"\nwhen \".avi\"\n  \"video/avi\"\nwhen \".bmp\"\n  \"image/bmp\"\nelse\n  \"application/octet-stream\"\nend"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/whats-this/owocr/OwO/Exceptions","path":"OwO/Exceptions.html","kind":"module","full_name":"OwO::Exceptions","name":"Exceptions","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"owocr/errors.cr","line_number":4,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/errors.cr"}],"repository_name":"github.com/whats-this/owocr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/whats-this/owocr/OwO","kind":"module","full_name":"OwO","name":"OwO"},"doc":"Defines the exceptions this library may use.\nAll exceptions have their own documentation.","summary":"<p>Defines the exceptions this library may use.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/whats-this/owocr/OwO/Exceptions/InvalidToken","path":"OwO/Exceptions/InvalidToken.html","kind":"class","full_name":"OwO::Exceptions::InvalidToken","name":"InvalidToken","abstract":false,"superclass":{"html_id":"github.com/whats-this/owocr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/whats-this/owocr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/whats-this/owocr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/whats-this/owocr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"owocr/errors.cr","line_number":6,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/errors.cr"}],"repository_name":"github.com/whats-this/owocr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/whats-this/owocr/OwO/Exceptions","kind":"module","full_name":"OwO::Exceptions","name":"Exceptions"},"doc":"`InvalidToken` is raised when the token is empty.","summary":"<p><code><a href=\"../../OwO/Exceptions/InvalidToken.html\">InvalidToken</a></code> is raised when the token is empty.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/whats-this/owocr/OwO/Exceptions/OwOInternalError","path":"OwO/Exceptions/OwOInternalError.html","kind":"class","full_name":"OwO::Exceptions::OwOInternalError","name":"OwOInternalError","abstract":false,"superclass":{"html_id":"github.com/whats-this/owocr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/whats-this/owocr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/whats-this/owocr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/whats-this/owocr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"owocr/errors.cr","line_number":20,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/errors.cr"}],"repository_name":"github.com/whats-this/owocr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/whats-this/owocr/OwO/Exceptions","kind":"module","full_name":"OwO::Exceptions","name":"Exceptions"},"doc":"`OwOInternalError` is thrown upon an Internal Server Error HTTP error from the API.\nIt will never have any extra information.\n\nNOTE: In CLI applications this may be ignored, as they are usually made to fail with an exception.","summary":"<p><code><a href=\"../../OwO/Exceptions/OwOInternalError.html\">OwOInternalError</a></code> is thrown upon an Internal Server Error HTTP error from the API.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/whats-this/owocr/OwO/Exceptions/TooLarge","path":"OwO/Exceptions/TooLarge.html","kind":"class","full_name":"OwO::Exceptions::TooLarge","name":"TooLarge","abstract":false,"superclass":{"html_id":"github.com/whats-this/owocr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/whats-this/owocr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/whats-this/owocr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/whats-this/owocr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"owocr/errors.cr","line_number":25,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/errors.cr"}],"repository_name":"github.com/whats-this/owocr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/whats-this/owocr/OwO/Exceptions","kind":"module","full_name":"OwO::Exceptions","name":"Exceptions"},"doc":"`TooLarge` is not to be confused with `TooLargePayload`. It is raised when the file or data is too large to send to the API.\nThere is never any extra information as to how large it is and the maximum.","summary":"<p><code><a href=\"../../OwO/Exceptions/TooLarge.html\">TooLarge</a></code> is not to be confused with <code><a href=\"../../OwO/Exceptions/TooLargePayload.html\">TooLargePayload</a></code>.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/whats-this/owocr/OwO/Exceptions/TooLargePayload","path":"OwO/Exceptions/TooLargePayload.html","kind":"class","full_name":"OwO::Exceptions::TooLargePayload","name":"TooLargePayload","abstract":false,"superclass":{"html_id":"github.com/whats-this/owocr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/whats-this/owocr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/whats-this/owocr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/whats-this/owocr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"owocr/errors.cr","line_number":32,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/errors.cr"}],"repository_name":"github.com/whats-this/owocr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/whats-this/owocr/OwO/Exceptions","kind":"module","full_name":"OwO::Exceptions","name":"Exceptions"},"doc":"`TooLargePayload` is not to be confused with `TooLarge`. It is raised when the file or data is too large in the payload.\nIt is not too large in the data itself, and there is therefore decided by the extra data which was sent.\n\nNOTE: Cloudflare is usually the one to raise this.","summary":"<p><code><a href=\"../../OwO/Exceptions/TooLargePayload.html\">TooLargePayload</a></code> is not to be confused with <code><a href=\"../../OwO/Exceptions/TooLarge.html\">TooLarge</a></code>.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/whats-this/owocr/OwO/Exceptions/Unauthorized","path":"OwO/Exceptions/Unauthorized.html","kind":"class","full_name":"OwO::Exceptions::Unauthorized","name":"Unauthorized","abstract":false,"superclass":{"html_id":"github.com/whats-this/owocr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/whats-this/owocr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/whats-this/owocr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/whats-this/owocr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"owocr/errors.cr","line_number":13,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/errors.cr"}],"repository_name":"github.com/whats-this/owocr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/whats-this/owocr/OwO/Exceptions","kind":"module","full_name":"OwO::Exceptions","name":"Exceptions"},"doc":"`Unauthorized` is raised when the token is deactivated at the OwO API.\nThis can also mean the token was miswritten.\n\nNOTE: This is raised if a token does not have the required dashes or has whitespace.","summary":"<p><code><a href=\"../../OwO/Exceptions/Unauthorized.html\">Unauthorized</a></code> is raised when the token is deactivated at the OwO API.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/whats-this/owocr/OwO/UploadData","path":"OwO/UploadData.html","kind":"struct","full_name":"OwO::UploadData","name":"UploadData","abstract":false,"superclass":{"html_id":"github.com/whats-this/owocr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/whats-this/owocr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/whats-this/owocr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/whats-this/owocr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"owocr/uploaddata.cr","line_number":2,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploaddata.cr"}],"repository_name":"github.com/whats-this/owocr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/whats-this/owocr/OwO","kind":"module","full_name":"OwO","name":"OwO"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(data:Bytes,filename:String=&quot;data.bin&quot;,content_type:String=&quot;application/octet-stream&quot;)-class-method","html_id":"new(data:Bytes,filename:String=&amp;quot;data.bin&amp;quot;,content_type:String=&amp;quot;application/octet-stream&amp;quot;)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Bytes"},{"name":"filename","doc":null,"default_value":"\"data.bin\"","external_name":"filename","restriction":"String"},{"name":"content_type","doc":null,"default_value":"\"application/octet-stream\"","external_name":"content_type","restriction":"String"}],"args_string":"(data : Bytes, filename : String = <span class=\"s\">&quot;data.bin&quot;</span>, content_type : String = <span class=\"s\">&quot;application/octet-stream&quot;</span>)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploaddata.cr#L7","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploaddata.cr#L7","def":{"name":"new","args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Bytes"},{"name":"filename","doc":null,"default_value":"\"data.bin\"","external_name":"filename","restriction":"String"},{"name":"content_type","doc":null,"default_value":"\"application/octet-stream\"","external_name":"content_type","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(data, filename, content_type)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(file:File,name:String?=nil,type:String?=nil)-class-method","html_id":"new(file:File,name:String?=nil,type:String?=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"file","doc":null,"default_value":"","external_name":"file","restriction":"File"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"String | ::Nil"}],"args_string":"(file : File, name : String? = <span class=\"n\">nil</span>, type : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploaddata.cr#L10","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploaddata.cr#L10","def":{"name":"new","args":[{"name":"file","doc":null,"default_value":"","external_name":"file","restriction":"File"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(file, name, type)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"content_type-instance-method","html_id":"content_type-instance-method","name":"content_type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"content_type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@content_type.not_nil!"}},{"id":"content_type=(content_type:String)-instance-method","html_id":"content_type=(content_type:String)-instance-method","name":"content_type=","doc":null,"summary":null,"abstract":false,"args":[{"name":"content_type","doc":null,"default_value":"","external_name":"content_type","restriction":"String"}],"args_string":"(content_type : String)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploaddata.cr#L5","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploaddata.cr#L5","def":{"name":"content_type=","args":[{"name":"content_type","doc":null,"default_value":"","external_name":"content_type","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@content_type = content_type"}},{"id":"content_type?:String?-instance-method","html_id":"content_type?:String?-instance-method","name":"content_type?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":null,"source_link":null,"def":{"name":"content_type?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@content_type"}},{"id":"data-instance-method","html_id":"data-instance-method","name":"data","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"data","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@data.not_nil!"}},{"id":"data=(data:Bytes)-instance-method","html_id":"data=(data:Bytes)-instance-method","name":"data=","doc":null,"summary":null,"abstract":false,"args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Bytes"}],"args_string":"(data : Bytes)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploaddata.cr#L3","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploaddata.cr#L3","def":{"name":"data=","args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Bytes"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@data = data"}},{"id":"data?:Slice(UInt8)?-instance-method","html_id":"data?:Slice(UInt8)?-instance-method","name":"data?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Slice(UInt8)?","source_link":null,"source_link":null,"def":{"name":"data?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@data"}},{"id":"filename-instance-method","html_id":"filename-instance-method","name":"filename","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"filename","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@filename.not_nil!"}},{"id":"filename=(filename:String)-instance-method","html_id":"filename=(filename:String)-instance-method","name":"filename=","doc":null,"summary":null,"abstract":false,"args":[{"name":"filename","doc":null,"default_value":"","external_name":"filename","restriction":"String"}],"args_string":"(filename : String)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploaddata.cr#L4","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploaddata.cr#L4","def":{"name":"filename=","args":[{"name":"filename","doc":null,"default_value":"","external_name":"filename","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@filename = filename"}},{"id":"filename?:String?-instance-method","html_id":"filename?:String?-instance-method","name":"filename?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":null,"source_link":null,"def":{"name":"filename?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@filename"}}],"macros":[],"types":[]},{"html_id":"github.com/whats-this/owocr/OwO/UploadedFile","path":"OwO/UploadedFile.html","kind":"class","full_name":"OwO::UploadedFile","name":"UploadedFile","abstract":false,"superclass":{"html_id":"github.com/whats-this/owocr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/whats-this/owocr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/whats-this/owocr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"owocr/uploadedfile.cr","line_number":6,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploadedfile.cr"}],"repository_name":"github.com/whats-this/owocr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/whats-this/owocr/OwO","kind":"module","full_name":"OwO","name":"OwO"},"doc":"`UploadedFile` contains data as to what files were uploaded to the API.\nAs of `VERSION` 0.1.0, `UploadedFile#files` never has more than 1 item.","summary":"<p><code><a href=\"../OwO/UploadedFile.html\">UploadedFile</a></code> contains data as to what files were uploaded to the API.</p>","class_methods":[],"constructors":[{"id":"new(success,files)-class-method","html_id":"new(success,files)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"success","doc":null,"default_value":"","external_name":"success","restriction":""},{"name":"files","doc":null,"default_value":"","external_name":"files","restriction":""}],"args_string":"(success, files)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploadedfile.cr#L12","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploadedfile.cr#L12","def":{"name":"new","args":[{"name":"success","doc":null,"default_value":"","external_name":"success","restriction":""},{"name":"files","doc":null,"default_value":"","external_name":"files","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(success, files)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(__temp_35:JSON::PullParser)-class-method","html_id":"new(__temp_35:JSON::PullParser)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"__temp_35","doc":null,"default_value":"","external_name":"__temp_35","restriction":"::JSON::PullParser"}],"args_string":"(__temp_35 : JSON::PullParser)","source_link":null,"source_link":null,"def":{"name":"new","args":[{"name":"__temp_35","doc":null,"default_value":"","external_name":"__temp_35","restriction":"::JSON::PullParser"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(__temp_35)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"files:Array(OwO::UploadedFileData)-instance-method","html_id":"files:Array(OwO::UploadedFileData)-instance-method","name":"files","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(OwO::UploadedFileData)","source_link":null,"source_link":null,"def":{"name":"files","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@files"}},{"id":"files=(_files:Array(UploadedFileData))-instance-method","html_id":"files=(_files:Array(UploadedFileData))-instance-method","name":"files=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_files","doc":null,"default_value":"","external_name":"_files","restriction":"Array(UploadedFileData)"}],"args_string":"(_files : Array(UploadedFileData))","source_link":null,"source_link":null,"def":{"name":"files=","args":[{"name":"_files","doc":null,"default_value":"","external_name":"_files","restriction":"Array(UploadedFileData)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@files = _files"}},{"id":"success:Bool-instance-method","html_id":"success:Bool-instance-method","name":"success","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"success","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@success"}},{"id":"success=(_success:Bool)-instance-method","html_id":"success=(_success:Bool)-instance-method","name":"success=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_success","doc":null,"default_value":"","external_name":"_success","restriction":"Bool"}],"args_string":"(_success : Bool)","source_link":null,"source_link":null,"def":{"name":"success=","args":[{"name":"_success","doc":null,"default_value":"","external_name":"_success","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@success = _success"}},{"id":"to_json(json:JSON::Builder)-instance-method","html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","doc":null,"summary":null,"abstract":false,"args":[{"name":"json","doc":null,"default_value":"","external_name":"json","restriction":"::JSON::Builder"}],"args_string":"(json : JSON::Builder)","source_link":null,"source_link":null,"def":{"name":"to_json","args":[{"name":"json","doc":null,"default_value":"","external_name":"json","restriction":"::JSON::Builder"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"json.object do\n  _success = @success\n  if _success.nil?\n  else\n    json.field(\"success\") do\n      _success.to_json(json)\n    end\n  end\n  _files = @files\n  if _files.nil?\n  else\n    json.field(\"files\") do\n      _files.to_json(json)\n    end\n  end\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/whats-this/owocr/OwO/UploadedFileData","path":"OwO/UploadedFileData.html","kind":"class","full_name":"OwO::UploadedFileData","name":"UploadedFileData","abstract":false,"superclass":{"html_id":"github.com/whats-this/owocr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/whats-this/owocr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/whats-this/owocr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"owocr/uploadedfile.cr","line_number":24,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploadedfile.cr"}],"repository_name":"github.com/whats-this/owocr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/whats-this/owocr/OwO","kind":"module","full_name":"OwO","name":"OwO"},"doc":"`UploadedFileData` contains data to the actual files which were uploaded.\n\nThe following fields are in use:\n\n - **hash** is the entire data hash. This can be used to verify the file which was sent.\n - **name** is the name of the file sent, as specified by the file name in the upload method.\n - **url** is the URI endpoint to the CDN. It must have a valid CDN domain as a prefix to visit.\n - **size** is the total size of the file. This is useful to show users where the library is used.","summary":"<p><code><a href=\"../OwO/UploadedFileData.html\">UploadedFileData</a></code> contains data to the actual files which were uploaded.</p>","class_methods":[],"constructors":[{"id":"new(hash,name,url,size)-class-method","html_id":"new(hash,name,url,size)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"url","doc":null,"default_value":"","external_name":"url","restriction":""},{"name":"size","doc":null,"default_value":"","external_name":"size","restriction":""}],"args_string":"(hash, name, url, size)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploadedfile.cr#L32","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/uploadedfile.cr#L32","def":{"name":"new","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"url","doc":null,"default_value":"","external_name":"url","restriction":""},{"name":"size","doc":null,"default_value":"","external_name":"size","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(hash, name, url, size)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(__temp_42:JSON::PullParser)-class-method","html_id":"new(__temp_42:JSON::PullParser)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"__temp_42","doc":null,"default_value":"","external_name":"__temp_42","restriction":"::JSON::PullParser"}],"args_string":"(__temp_42 : JSON::PullParser)","source_link":null,"source_link":null,"def":{"name":"new","args":[{"name":"__temp_42","doc":null,"default_value":"","external_name":"__temp_42","restriction":"::JSON::PullParser"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(__temp_42)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"hash:String-instance-method","html_id":"hash:String-instance-method","name":"hash","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"hash","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@hash"}},{"id":"hash=(_hash:String)-instance-method","html_id":"hash=(_hash:String)-instance-method","name":"hash=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_hash","doc":null,"default_value":"","external_name":"_hash","restriction":"String"}],"args_string":"(_hash : String)","source_link":null,"source_link":null,"def":{"name":"hash=","args":[{"name":"_hash","doc":null,"default_value":"","external_name":"_hash","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@hash = _hash"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@name"}},{"id":"name=(_name:String)-instance-method","html_id":"name=(_name:String)-instance-method","name":"name=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_name","doc":null,"default_value":"","external_name":"_name","restriction":"String"}],"args_string":"(_name : String)","source_link":null,"source_link":null,"def":{"name":"name=","args":[{"name":"_name","doc":null,"default_value":"","external_name":"_name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@name = _name"}},{"id":"size:Int64-instance-method","html_id":"size:Int64-instance-method","name":"size","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":null,"source_link":null,"def":{"name":"size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@size"}},{"id":"size=(_size:Int64)-instance-method","html_id":"size=(_size:Int64)-instance-method","name":"size=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_size","doc":null,"default_value":"","external_name":"_size","restriction":"Int64"}],"args_string":"(_size : Int64)","source_link":null,"source_link":null,"def":{"name":"size=","args":[{"name":"_size","doc":null,"default_value":"","external_name":"_size","restriction":"Int64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@size = _size"}},{"id":"to_json(json:JSON::Builder)-instance-method","html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","doc":null,"summary":null,"abstract":false,"args":[{"name":"json","doc":null,"default_value":"","external_name":"json","restriction":"::JSON::Builder"}],"args_string":"(json : JSON::Builder)","source_link":null,"source_link":null,"def":{"name":"to_json","args":[{"name":"json","doc":null,"default_value":"","external_name":"json","restriction":"::JSON::Builder"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"json.object do\n  _hash = @hash\n  if _hash.nil?\n  else\n    json.field(\"hash\") do\n      _hash.to_json(json)\n    end\n  end\n  _name = @name\n  if _name.nil?\n  else\n    json.field(\"name\") do\n      _name.to_json(json)\n    end\n  end\n  _url = @url\n  if _url.nil?\n  else\n    json.field(\"url\") do\n      _url.to_json(json)\n    end\n  end\n  _size = @size\n  if _size.nil?\n  else\n    json.field(\"size\") do\n      _size.to_json(json)\n    end\n  end\nend"}},{"id":"url:String-instance-method","html_id":"url:String-instance-method","name":"url","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"url","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@url"}},{"id":"url=(_url:String)-instance-method","html_id":"url=(_url:String)-instance-method","name":"url=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_url","doc":null,"default_value":"","external_name":"_url","restriction":"String"}],"args_string":"(_url : String)","source_link":null,"source_link":null,"def":{"name":"url=","args":[{"name":"_url","doc":null,"default_value":"","external_name":"_url","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@url = _url"}}],"macros":[],"types":[]},{"html_id":"github.com/whats-this/owocr/OwO/WhatsThis","path":"OwO/WhatsThis.html","kind":"class","full_name":"OwO::WhatsThis","name":"WhatsThis","abstract":false,"superclass":{"html_id":"github.com/whats-this/owocr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/whats-this/owocr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/whats-this/owocr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"owocr/client.cr","line_number":20,"url":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr"}],"repository_name":"github.com/whats-this/owocr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/whats-this/owocr/OwO","kind":"module","full_name":"OwO","name":"OwO"},"doc":"`WhatsThis` refers to the actual client which is to be used with the wrapper.\nIt is the entrypoint for any application wishing to use it, and is the only part of this meant to be used.","summary":"<p><code><a href=\"../OwO/WhatsThis.html\">WhatsThis</a></code> refers to the actual client which is to be used with the wrapper.</p>","class_methods":[],"constructors":[{"id":"new(token:String,user_agent:String=USER_AGENT,api_uri:String=API_URI)-class-method","html_id":"new(token:String,user_agent:String=USER_AGENT,api_uri:String=API_URI)-class-method","name":"new","doc":"Initializes a new client instance with the following data:\n\n - *token* being the OwO token.\n   The token may not have the dashes stripped and must not include any form for whitespace.\n   If the token is empty, it will raise an `Exceptions::InvalidToken` exception.\n - *user_agent* being the User-Agent field.\n   The User-Agent to be used. This is not recommended to change, as your application may be denied access to the API.\n   It is defaulted to `OwO::USER_AGENT`.\n - *api_uri* being the API URI endpoint.\n   The API endpoint URI to connect to and use while using the client.\n   Its default value is `OwO::API_URI`.\n\nIt in turn initializes a new `Cossack::Client` which follows redirections and has the following headers:\n\n - `User-Agent` => *user_agent*\n - `Authorization` => *token*","summary":"<p>Initializes a new client instance with the following data:</p>","abstract":false,"args":[{"name":"token","doc":null,"default_value":"","external_name":"token","restriction":"String"},{"name":"user_agent","doc":null,"default_value":"USER_AGENT","external_name":"user_agent","restriction":"String"},{"name":"api_uri","doc":null,"default_value":"API_URI","external_name":"api_uri","restriction":"String"}],"args_string":"(token : String, user_agent : String = <span class=\"t\">USER_AGENT</span>, api_uri : String = <span class=\"t\">API_URI</span>)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L37","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L37","def":{"name":"new","args":[{"name":"token","doc":null,"default_value":"","external_name":"token","restriction":"String"},{"name":"user_agent","doc":null,"default_value":"USER_AGENT","external_name":"user_agent","restriction":"String"},{"name":"api_uri","doc":null,"default_value":"API_URI","external_name":"api_uri","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(token, user_agent, api_uri)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"data_base:String?-instance-method","html_id":"data_base:String?-instance-method","name":"data_base","doc":"The base URI for all normal data uploaded.\nThis gets prepended to every `url` field in the `OwO::UploadedFileData` objects.\n\nNOTE: This only applies to `#upload_data` and `#upload_file`.","summary":"<p>The base URI for all normal data uploaded.</p>","abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L51","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L51","def":{"name":"data_base","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@data_base"}},{"id":"data_base=(data_base:String?)-instance-method","html_id":"data_base=(data_base:String?)-instance-method","name":"data_base=","doc":"The base URI for all normal data uploaded.\nThis gets prepended to every `url` field in the `OwO::UploadedFileData` objects.\n\nNOTE: This only applies to `#upload_data` and `#upload_file`.","summary":"<p>The base URI for all normal data uploaded.</p>","abstract":false,"args":[{"name":"data_base","doc":null,"default_value":"","external_name":"data_base","restriction":"String | ::Nil"}],"args_string":"(data_base : String?)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L51","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L51","def":{"name":"data_base=","args":[{"name":"data_base","doc":null,"default_value":"","external_name":"data_base","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@data_base = data_base"}},{"id":"shorten(uri:String|URI)-instance-method","html_id":"shorten(uri:String|URI)-instance-method","name":"shorten","doc":"`#shorten` shortens the `String` URI or the `URI` instance as input.\nThe single parameter *uri* specifies the `String` or `URI` to shorten and must be a standard UTF-8 URI.\n\nUnder the following circumstances are exceptions raised:\n\n - `Exceptions::Unauthorized` is raised if the `@token` value is deactivated.\n - `Exceptions::OwOInternalError` is raised if OwO has an internal error at their API.\n\nA 404 error is not handled by this library and may result in a panic.\n\nIt returns a `String` which is the endpoint key for the CDN.\nIn order to access it, you'll need to prefix it with a valid CDN URI, found on the OwO FAQ.","summary":"<p><code><a href=\"../OwO/WhatsThis.html#shorten%28uri%3AString%7CURI%29-instance-method\">#shorten</a></code> shortens the <code>String</code> URI or the <code>URI</code> instance as input.</p>","abstract":false,"args":[{"name":"uri","doc":null,"default_value":"","external_name":"uri","restriction":"String | URI"}],"args_string":"(uri : String | URI)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L133","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L133","def":{"name":"shorten","args":[{"name":"uri","doc":null,"default_value":"","external_name":"uri","restriction":"String | URI"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"response = @client.get(\"#{@api_uri}/shorten/polr?action=shorten&url=#{uri.to_s}\")\nif response.status == 401\n  raise(Exceptions::Unauthorized.new)\nend\nif response.status == 500\n  raise(Exceptions::OwOInternalError.new)\nend\nurl = response.body.lines.first\nurl = url.lchop(\"https://awau.moe/\")\nbase = get_proper_shorten_base || (return url)\nurl = base + url\nurl\n"}},{"id":"shorten_base:String?-instance-method","html_id":"shorten_base:String?-instance-method","name":"shorten_base","doc":"The base URI for all shortenings.\nThis gets prepended to the shortened URI return.\n\nNOTE: This only applies to `#shorten`.","summary":"<p>The base URI for all shortenings.</p>","abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L57","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L57","def":{"name":"shorten_base","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@shorten_base"}},{"id":"shorten_base=(shorten_base:String?)-instance-method","html_id":"shorten_base=(shorten_base:String?)-instance-method","name":"shorten_base=","doc":"The base URI for all shortenings.\nThis gets prepended to the shortened URI return.\n\nNOTE: This only applies to `#shorten`.","summary":"<p>The base URI for all shortenings.</p>","abstract":false,"args":[{"name":"shorten_base","doc":null,"default_value":"","external_name":"shorten_base","restriction":"String | ::Nil"}],"args_string":"(shorten_base : String?)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L57","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L57","def":{"name":"shorten_base=","args":[{"name":"shorten_base","doc":null,"default_value":"","external_name":"shorten_base","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@shorten_base = shorten_base"}},{"id":"upload(first:UploadData,second:UploadData?,third:UploadData?=nil)-instance-method","html_id":"upload(first:UploadData,second:UploadData?,third:UploadData?=nil)-instance-method","name":"upload","doc":"`#upload` uploads the data from `OwO::UploadData` objects.\nYou can pass up to three, as that's what OwO limits it at, but if it were higher, there would be more support.\n\nUnder the following circumstances are exceptions raised:\n\n - `Exceptions::Unauthorized` is raised if the `@token` value is deactivated.\n - `Exceptions::TooLargePayload` is raised if OwO changes the payload max size before this library updates.\n - `Exceptions::TooLarge` is raised if you upload data over the size of 100MiB.\n - `Exceptions::OwOInternalError` is raised if OwO has an internal error at their API.\n\nA 404 error is not handled by this library and may result in a panic.\n\nIt does not return `OwO::UploadedFile` as it did in v0.1.0, however it returns `OwO::UploadedFileData`.\nIn this case it however returns it as `Tuple(UploadedFileData?, UploadedFileData?, UploadedFileData?)`.","summary":"<p><code><a href=\"../OwO/WhatsThis.html#upload%28first%3AUploadData%2Csecond%3AUploadData%3F%2Cthird%3AUploadData%3F%3Dnil%29-instance-method\">#upload</a></code> uploads the data from <code><a href=\"../OwO/UploadData.html\">OwO::UploadData</a></code> objects.</p>","abstract":false,"args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":"UploadData"},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":"UploadData | ::Nil"},{"name":"third","doc":null,"default_value":"nil","external_name":"third","restriction":"UploadData | ::Nil"}],"args_string":"(first : UploadData, second : UploadData?, third : UploadData? = <span class=\"n\">nil</span>)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L92","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L92","def":{"name":"upload","args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":"UploadData"},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":"UploadData | ::Nil"},{"name":"third","doc":null,"default_value":"nil","external_name":"third","restriction":"UploadData | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"total = first.data.size\nif !(second.nil?)\n  total = total + second.data.size\nend\nif !(third.nil?)\n  total = total + third.data.size\nend\nif total > ((100 * 1024) * 1024)\n  raise(Exceptions::TooLarge.new)\nend\nio = IO::Memory.new\nboundary = HTTP::Multipart.generate_boundary\nmultipart = HTTP::Multipart::Builder.new(io, boundary)\nadd_multipart(first, multipart)\nadd_multipart(second, multipart)\nadd_multipart(third, multipart)\nmultipart.finish\nresponse = @client.post(\"#{@api_uri}/upload/pomf\", io.to_s) do |req|\n  req.headers[\"Content-Type\"] = \"multipart/form-data; boundary=\" + boundary\nend\nif response.status == 401\n  raise(Exceptions::Unauthorized.new)\nend\nif response.status == 413\n  raise(Exceptions::TooLargePayload.new)\nend\nif response.status == 500\n  raise(Exceptions::OwOInternalError.new)\nend\nuploaded = UploadedFile.from_json(response.body)\nbase = get_proper_data_base\nif !(base.nil?)\n  uploaded.files.each do |data|\n    data.url = base + data.url\n  end\nend\n{uploaded.files[0]?, uploaded.files[1]?, uploaded.files[2]?}\n"}},{"id":"upload(data:UploadData)-instance-method","html_id":"upload(data:UploadData)-instance-method","name":"upload","doc":"`upload` uploads data given by `OwO::UploadData` by passing it to the overloaded `#upload`\nmethod which takes three of them and spits out a tuple of three nullable `OwO::UploadedFile`.\n\nAll this does is call `#upload` with two nil arguments and get the first tuple member.\n\nUnder the following circumstances are exceptions raised:\n\n - `Exceptions::Unauthorized` is raised if the `@token` value is deactivated.\n - `Exceptions::TooLargePayload` is raised if OwO changes the payload max size before this library updates.\n - `Exceptions::TooLarge` is raised if you upload data over the size of 100MiB.\n - `Exceptions::OwOInternalError` is raised if OwO has an internal error at their API.\n\nA 404 error is not handled by this library and may result in a panic.\n\nNOTE: The return is nullable and there is no guarantee this conforms to your needs.","summary":"<p><code><a href=\"../OwO/WhatsThis.html#upload%28first%3AUploadData%2Csecond%3AUploadData%3F%2Cthird%3AUploadData%3F%3Dnil%29-instance-method\">#upload</a></code> uploads data given by <code><a href=\"../OwO/UploadData.html\">OwO::UploadData</a></code> by passing it to the overloaded <code><a href=\"../OwO/WhatsThis.html#upload%28first%3AUploadData%2Csecond%3AUploadData%3F%2Cthird%3AUploadData%3F%3Dnil%29-instance-method\">#upload</a></code> method which takes three of them and spits out a tuple of three nullable <code><a href=\"../OwO/UploadedFile.html\">OwO::UploadedFile</a></code>.</p>","abstract":false,"args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"UploadData"}],"args_string":"(data : UploadData)","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L74","source_link":"https://github.com/whats-this/owocr/blob/d713efb22bf60c17859a39eb4a6c30322eddb38e/src/owocr/client.cr#L74","def":{"name":"upload","args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"UploadData"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(upload(data, nil, nil))[0]?"}}],"macros":[],"types":[]}]}]}}